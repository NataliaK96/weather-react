(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports={button:"Buttons_button__1Z1Rq",button_disable:"Buttons_button_disable__1JZUZ"}},function(e,t,a){e.exports={header:"Header_header__1seAQ",header__title:"Header_header__title__79us5",title__item_bottom:"Header_title__item_bottom__1Vjc5"}},function(e,t,a){e.exports={select:"SelectCity_select__1j-yL",select__value:"SelectCity_select__value__1RU3M",select__default:"SelectCity_select__default__EDBsp",select__item:"SelectCity_select__item__2sejl",select__list:"SelectCity_select__list__vs3vs",select__chevron:"SelectCity_select__chevron__37nYt"}},function(e,t,a){e.exports={card:"Card_card__39AhR",card__date:"Card_card__date__255Zn","card__image-wrapper":"Card_card__image-wrapper__2qZK1",card__image:"Card_card__image__2aHDu",card__image_big:"Card_card__image_big__38Tft",card__temperature:"Card_card__temperature__1jU81"}},function(e,t,a){e.exports={app:"App_app__3BnlN","background-wrapper":"App_background-wrapper__NrFyU","background-top":"App_background-top__2SVhE","background-bottom":"App_background-bottom__3nSZH",wrapper:"App_wrapper__jgD3-"}},,function(e,t,a){e.exports={datepicker:"Datepicker_datepicker__1cZov",datepicker__icon:"Datepicker_datepicker__icon__3hjYH",datepicker__picker:"Datepicker_datepicker__picker__dQkO6",datepicker__placeholder:"Datepicker_datepicker__placeholder__TZUuE",datepicker_empty:"Datepicker_datepicker_empty__n5asu"}},function(e,t,a){e.exports={section:"Section_section__3Brdg",section__title:"Section_section__title__3G7zD",section__main:"Section_section__main__HhQPO",section__controls:"Section_section__controls__2Ed0n"}},,,function(e,t,a){e.exports={main:"Main_main__xSbXp",main__data:"Main_main__data__LdC4D"}},function(e,t,a){e.exports={placeholder:"SectionPlaceholder_placeholder__2Ld0n",placeholder__text:"SectionPlaceholder_placeholder__text__2RIfK"}},,,function(e,t,a){e.exports={footer:"Footer_footer__1SCTk",footer__name:"Footer_footer__name__1Laty"}},,,,,,,,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(14),i=a.n(r),s=(a(28),a(20)),o=a.n(s),l=a(0),d=function(){return Object(l.jsx)("footer",{className:o.a.footer,children:Object(l.jsx)("span",{className:o.a.footer__name,children:"C \u041b\u042e\u0411\u041e\u0412\u042c\u042e \u0414\u041b\u042f MERCURY DEVELOPMENT"})})},_=a(7),u=a.n(_),b=function(){return Object(l.jsx)("header",{className:u.a.header,children:Object(l.jsxs)("h1",{className:u.a.header__title+" "+u.a.title,children:[Object(l.jsx)("span",{className:u.a.title__item+" "+u.a.title__item_top,children:"Weather"}),Object(l.jsx)("span",{className:u.a.title__item+" "+u.a.title__item_bottom,children:"forecast"})]})})},m=a(4),p=a.n(m),h=a(12),j=a.n(h),f=function(e){var t=e.date,a=e.onSelect;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:j.a.datepicker+" "+(t?"":j.a.datepicker_empty),children:[!t&&Object(l.jsx)("div",{className:j.a.datepicker__placeholder,children:"Select date"}),Object(l.jsx)("input",{className:j.a.datepicker__picker,value:t?p()(t).format("YYYY-MM-DD"):p()().format("YYYY-MM-DD"),type:"date",min:"".concat(p()().add(-4,"days").format("YYYY-MM-DD")),max:"".concat(p()().format("YYYY-MM-DD")),onChange:function(e){return a(1e3*p()(e.target.value).unix())}})]})})},x=a(13),g=a.n(x),v=function(e){var t=e.title,a=e.controls,n=e.children;return Object(l.jsxs)("section",{className:g.a.section,children:[Object(l.jsx)("h2",{className:g.a.section__title,children:t}),Object(l.jsx)("div",{className:g.a.section__controls,children:a}),Object(l.jsx)("div",{className:g.a.section__main,children:n})]})},y=a(23),O=a(8),S=a.n(O),k=a.p+"static/media/chevron-top.01db9ee1.svg",w=a.p+"static/media/chevron-bottom.a5408ea9.svg",N=function(e){var t=e.cities,a=e.city,c=e.onChange,r=Object(n.useState)(!1),i=Object(y.a)(r,2),s=i[0],o=i[1];return Object(l.jsxs)("div",{className:S.a.select,onClick:function(){o(!s)},onBlur:function(){return o(!1)},children:[Object(l.jsx)("div",{className:a?S.a.select__value:S.a.select__default,children:(null===a||void 0===a?void 0:a.name)||"Select city"}),Object(l.jsx)("img",{className:S.a.select__chevron,src:s?k:w,alt:"chevron"}),s&&Object(l.jsx)("div",{className:S.a.select__list,children:t.map((function(e){return Object(l.jsx)("div",{onClick:function(){c(e.id)},className:S.a.select__item,children:Object(l.jsx)("div",{children:e.name})},e.id)}))})]})},C=a(15),D=a(5),H=a.n(D),M=a(11),Y=a(3),P=Y.b.model({dt:Y.b.number,temp:Y.b.number,icon:Y.b.string}),I=Y.b.model({id:Y.b.number,name:Y.b.maybeNull(Y.b.string),lat:Y.b.string,lon:Y.b.string}),E=a(22),F=function(){var e=Object(E.a)(H.a.mark((function e(t,a){var n,c,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.openweathermap.org/data/2.5"+t+"&appid=".concat("cab996ab083ea0a187c31623c2213ae3","&units=metric"),e.next=3,fetch(n,Object(M.a)({},a));case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(e){var t=e.lat,a=e.lon,n=e.excludes;return F("/onecall?lat=".concat(t,"&lon=").concat(a,"&exclude=").concat((null===n||void 0===n?void 0:n.join(","))||""),{method:"GET"})},T=function(e){var t=e.lat,a=e.lon,n=e.time;return F("/onecall/timemachine?lat=".concat(t,"&lon=").concat(a,"&dt=").concat(n),{method:"GET"})},B=Y.b.model({isMobile:Y.b.maybeNull(Y.b.boolean),points:Y.b.array(I),selectedPoint:Y.b.maybeNull(I),daily:Y.b.array(P),history:Y.b.maybeNull(P),selectedHistoryPoint:Y.b.maybeNull(I),selectedHistoryDate:Y.b.maybeNull(Y.b.number),dailySlider:Y.b.optional(Y.b.model({firstShownCardIndex:Y.b.number,shownCardNumber:Y.b.number}),{firstShownCardIndex:0,shownCardNumber:3})}).views((function(e){return{get shownCardSet(){var t=e.dailySlider,a=t.firstShownCardIndex,n=t.shownCardNumber;return e.daily.concat().splice(a,n)},get inStartSlider(){return 0===e.dailySlider.firstShownCardIndex},get inEndSlider(){var t=e.dailySlider,a=t.firstShownCardIndex,n=t.shownCardNumber;return a===e.daily.length-n}}})).actions((function(e){return{setIsMobile:function(t){e.isMobile=t},nextSlide:function(){var t=e.dailySlider;t.firstShownCardIndex>=e.daily.length-t.shownCardNumber||(e.dailySlider.firstShownCardIndex=e.dailySlider.firstShownCardIndex+1)},prevSlide:function(){var t=e.dailySlider;t.firstShownCardIndex<=0||(t.firstShownCardIndex=t.firstShownCardIndex-1)},selectPoint:function(t){var a=e.points.find((function(e){return e.id===t}))||null;e.selectedPoint=a?Object(M.a)({},a):null},selectHistoryPoint:function(t){var a=e.points.find((function(e){return e.id===t}))||null;e.selectedHistoryPoint=a?Object(M.a)({},a):null},selectHistoryDate:function(t){e.selectedHistoryDate=t},fetchDaily:Object(Y.a)(H.a.mark((function t(){var a,n,c,r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedPoint){t.next=2;break}return t.abrupt("return",null);case 2:return t.prev=2,a=e.selectedPoint,n=a.lat,c=a.lon,t.next=6,L({lat:n,lon:c,excludes:["current","minutely","hourly","alerts"]});case 6:r=t.sent,e.daily=r.daily.map((function(e){return{dt:e.dt,temp:e.temp.day,icon:e.weather[0].icon}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])}))),fetchHistory:Object(Y.a)(H.a.mark((function t(){var a,n,c,r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedHistoryPoint&&e.selectedHistoryDate){t.next=2;break}return t.abrupt("return",null);case 2:return t.prev=2,a=e.selectedHistoryPoint,n=a.lat,c=a.lon,t.next=6,T({lat:n,lon:c,time:e.selectedHistoryDate/1e3});case 6:r=t.sent,e.history={dt:r.current.dt,temp:r.current.temp,icon:r.current.weather[0].icon},t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))}})).create({points:[{id:1,name:"Samara",lat:"53.195873",lon:"50.100193"},{id:2,name:"Tolyatti",lat:"53.507836",lon:"49.420393"},{id:3,name:"Saratov",lat:"51.533557",lon:"46.034257"},{id:4,name:"Kazan",lat:"55.796127",lon:"49.106405"},{id:5,name:"Krasnodar",lat:"45.035470",lon:"38.975313"}]}),Z=a(16),A=a.n(Z),R=a(17),U=a.n(R),z=a.p+"static/media/placeholder.1a743710.svg",K=function(){return Object(l.jsxs)("div",{className:U.a.placeholder,children:[Object(l.jsx)("img",{src:z,alt:"cloud",className:U.a.placeholder__image}),Object(l.jsx)("p",{className:U.a.placeholder__text,children:"Fill in all the fields and the weather will be displayed"})]})},G=a(9),J=a.n(G),Q=function(e){var t,a=e.date,n=e.image,c=e.temperature,r=e.bigIcon;return Object(l.jsxs)("section",{className:J.a.card,children:[Object(l.jsx)("p",{className:J.a.card__date,children:"".concat(p()(1e3*a).format("DD MMM YYYY").toLowerCase())}),Object(l.jsx)("div",{className:J.a["card__image-wrapper"],children:Object(l.jsx)("img",{className:J.a.card__image+" "+(r?J.a.card__image_big:""),src:(t=n,"http://openweathermap.org/img/wn/".concat(t,"@2x.png")),alt:"icon"})}),Object(l.jsxs)("p",{className:J.a.card__temperature,children:["".concat(c>=0?"+":"-").concat(Math.floor(c)),"\xb0"]})]})},V=a(6),q=a.n(V),W=a.p+"static/media/chevron-left.668da982.svg",X=function(e){var t=e.onClick,a=e.disable;return Object(l.jsx)("button",{onClick:t,className:q.a.button+" "+(a?q.a.button_disable:""),children:Object(l.jsx)("img",{src:W,alt:"chevronLeft",className:q.a.button__icon})})},$=a.p+"static/media/chevron-right.d8b7c444.svg",ee=function(e){var t=e.onClick,a=e.disable;return Object(l.jsx)("button",{onClick:t,className:q.a.button+" "+(a?q.a.button_disable:""),children:Object(l.jsx)("img",{src:$,alt:"chevronRight",className:q.a.button__icon})})},te=Object(C.a)((function(){return Object(l.jsxs)("main",{className:A.a.main,children:[Object(l.jsx)(v,{title:"7 Days Forecast",controls:Object(l.jsx)(N,{city:B.selectedPoint,cities:B.points,onChange:function(e){B.selectPoint(e),B.fetchDaily()}}),children:Object(l.jsx)("div",{className:A.a.main__data,children:B.daily.length?Object(l.jsx)(l.Fragment,{children:B.isMobile?Object(l.jsx)(l.Fragment,{children:B.daily.map((function(e){return Object(l.jsx)(Q,{date:e.dt,image:e.icon,temperature:e.temp},e.dt)}))}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(X,{disable:B.inStartSlider,onClick:function(){B.prevSlide()}}),B.shownCardSet.map((function(e,t){return Object(l.jsx)(Q,{date:e.dt,image:e.icon,temperature:e.temp},e.dt)})),Object(l.jsx)(ee,{disable:B.inEndSlider,onClick:function(){B.nextSlide()}})]})}):Object(l.jsx)(K,{})})}),Object(l.jsx)(v,{title:"Forecast for a Date in the Past",controls:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(N,{city:B.selectedHistoryPoint,cities:B.points,onChange:function(e){B.selectHistoryPoint(e),B.fetchHistory()}}),Object(l.jsx)(f,{date:B.selectedHistoryDate,onSelect:function(e){B.selectHistoryDate(e),B.fetchHistory()}})]}),children:Object(l.jsx)("div",{className:A.a.main__data,children:B.history?Object(l.jsx)(Q,{date:B.history.dt,image:B.history.icon,temperature:B.history.temp,bigIcon:!0},B.history.dt):Object(l.jsx)(K,{})})})]})})),ae=a(10),ne=a.n(ae),ce=a.p+"static/media/bg-bottom.b40a5298.png",re=a.p+"static/media/bg-top.f5e30553.png";var ie=Object(C.a)((function(){var e=function(){window.innerWidth<700?B.setIsMobile(!0):B.setIsMobile(!1)};return Object(n.useEffect)((function(){return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(l.jsxs)("div",{className:ne.a.app,children:[Object(l.jsxs)("div",{className:ne.a["background-wrapper"],children:[Object(l.jsx)("img",{src:re,alt:"background",className:ne.a["background-top"]}),Object(l.jsx)("img",{src:ce,alt:"background",className:ne.a["background-bottom"]})]}),Object(l.jsxs)("div",{className:ne.a.wrapper,children:[Object(l.jsx)(b,{}),Object(l.jsx)(te,{}),Object(l.jsx)(d,{})]})]})})),se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,35)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(ie,{})}),document.getElementById("root")),se()}],[[34,1,2]]]);
//# sourceMappingURL=main.b3af0ed5.chunk.js.map